<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio üí™</title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> üíÅ</p>
  <script>
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1

    // Some data we can work with

    const inventors = [ // each element in this array is an object. each object has 4 members. 
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
      { first: 'Hanna', last: 'Hammarstr√∂m', year: 1829, passed: 1909 }
    ];

    const people = [ // each element in this array is a string. 
      'Bernhard, Sandra', 'Bethea, Erin', 'Becker, Carl', 'Bentsen, Lloyd', 'Beckett, Samuel', 'Blake, William', 'Berger, Ric', 'Beddoes, Mick', 'Beethoven, Ludwig',
      'Belloc, Hilaire', 'Begin, Menachem', 'Bellow, Saul', 'Benchley, Robert', 'Blair, Robert', 'Benenson, Peter', 'Benjamin, Walter', 'Berlin, Irving',
      'Benn, Tony', 'Benson, Leana', 'Bent, Silas', 'Berle, Milton', 'Berry, Halle', 'Biko, Steve', 'Beck, Glenn', 'Bergman, Ingmar', 'Black, Elk', 'Berio, Luciano',
      'Berne, Eric', 'Berra, Yogi', 'Berry, Wendell', 'Bevan, Aneurin', 'Ben-Gurion, David', 'Bevel, Ken', 'Biden, Joseph', 'Bennington, Chester', 'Bierce, Ambrose',
      'Billings, Josh', 'Birrell, Augustine', 'Blair, Tony', 'Beecher, Henry', 'Biondo, Frank'
    ];
    
    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's

    const fifteen = inventors.filter(function(anything) {  // inventors.filter is the inventors array using the filter method. 
      // inside the filter() is a function acting as the param/var. this function will loop through the entire array. and the function
      // receives (anything). you can name this whatever you want, in the video he names it inventor. that (anything) is each element
      // in the inventors array. and for each element, we can then decide if we want to keep it or not
      if (anything.year >= 1500 && anything.year <= 1599) { // check if each element's year is in the 1500s
        return true; // keep it if 1500s
      } // else {  // you don't need the else. bc for those that don't match the if part, it will be discarded
        // return false; // don't keep it if not 1500s
      // }
      
    });

    console.log(fifteen); // show the results but it is in a collapsible format which you have to click to show more details
    console.table(fifteen); // show in a table. easier to read

    // line 41, you can do an arrow function. it will look like this: 
    // inventors.filter(anything => {
        // if (anything.year >= 1500 && anything.year <= 1599) {
          // return true;
        // }
    // });

    // Array.prototype.map()
    // 2. Give us an array of the inventors first and last names

    // map takes an array and returns a new array with the same length. if an array has 5 items/elements, then map will do something
    // to each element/item and you will get back 5 items. he gives a factory analogy. map takes a widget and stamps something on it 
    // and returns that widget at the end of the assembly line. whereas filter can take in 10 things and return 2, map will return 
    // the same amount of items that you give it.

    const fullNames = inventors.map(theThing => { // arrow function on multiple lines. inventors is the array. and theThing is 
      // what you are calling each item/element in the array. you can call it whatever you want. his video uses inventor. 
      return `${theThing.first} ${theThing.last}`; // when you leave out return, nothing happens bc a function has to return 
      // something. if you had console.log instead of return, then the map will show each first and last name as it goes 
      // through the array. also, with return there, it sends the result to const fullNames bc that is what is calling the map
      // method/function. now that const fullNames has the results, it won't show it until you console log it.
    });

    console.log(fullNames);

    // const fullNames = inventors.map(theThing => (`${theThing.first} ${theThing.last}`)); the arrow function on one line doesn't
    // need a return and also doesn't need the { }. but you will still need the console.log in order to see the results of the map

    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest

    // the way sort works is you get two items and you sort just those two items. it will look at person A and B. if A is older, then
    // it puts A on top. and it returns a 1 and -1. then it will bubble these items up and down in the array.

    const ordered = inventors.sort(function(firstPerson, secondPerson){ // const ordered holds the results of the sort method. 
      //it is using a function as a param/var. the two params are person A and B
      if (firstPerson.year > secondPerson.year) { // if person A is born after person B, then it returns a 1. if false, then returns a -1.
        return 1; // this makes person A go down the list. if you change it to -1, then this goes up the list
      } else {
        return -1; // this makes person B go up the list. if you change it to 1, then this goes down the list
      } 
    }); // the newer year is pushed down the list and the older years are pushed up. so the sort is oldest year to newest year.
    // to make it sort newest year to oldest year, going backwards, then change the 1 and -1.

    // unsure how this works, but it does sort properly. better learn how to step through so you can see what happens at each 
    // iteration going through the array
    console.table(ordered);

    // Array.prototype.reduce()
    // 4. How many years did all the inventors live all together?
    
    // he explains reduce by differentiating it from map, filter and sort. previous methods take an item in and either sort, map
    // or filter them. reduce allows you to build something on every single item that it receives. 
     
    // a reduce is a cleaner way to do the loop below. this is an ex of a common loop on an array

    let totalYears = 0;
    for(let i = 0; i < inventors.length; i++) {
      console.log(inventors[i].year); // it prints out from oldest year to highest year instead of the order of the items in the 
      // array such as 0, 1, 2, 3, .... 11. if you comment out the sort method at line 90, then when you run this loop, the years
      // will show not in oldest to newest years but by the index position number such as 0, 1, 2, 3, ... 11.
      totalYears += inventors[i].year;
    }
    // this will go through the inventors array and print each year as it iterates through the loop. it also accumulates the 
    // years as a sum. then after the loop is done, it will print the sum
    console.log(totalYears);

    // reduce will give you a running total or what you've returned from the last time around. he names that total. and he also
    // wants to get the inventor so he names the second param/var as inventor
    const totalYearsReduce = inventors.reduce((total, inventor) => {
      return total + (inventor.passed - inventor.year); // return total is what the total is after it goes thru all the items/elements.
      // reduce is similar to map, ordered, filtered in that it will loop through each element/item of the array. it won't skip any.
      // (inventor.passed - inventor.year) is the years lived for each inventor. then it will sum all the years
    }, 0); 

    console.log(totalYearsReduce); 
    
    // at line 129, it used to look like this: }); which is the usual way to end an arrow function. but that will give you in the 
    // console.log [object Object]7859843780508967907681. this is unusual bc the first time around the loop, the total
    // is undefined. to fix it, he goes to the end of the arrow function and makes it look like this: }, 0);
    // that fixes it bc it defines total with 0 and then the loop fills in the total correctly.

    // 5. Sort the inventors by years lived

    // this sort is very similar to the sort at line 90. instead of just comparing year, we are comparing the years lived
    // which is passed minus year. 
    const oldest = inventors.sort(function(firstPerson, secondPerson){
      const firstPersonYearsLived = firstPerson.passed - firstPerson.year;
      const secondPersonYearsLived = secondPerson.passed - secondPerson.year;
      if (firstPersonYearsLived > secondPersonYearsLived) {
        return -1;  // last sort on line 90 had 1 and then -1. which is ascending order, lowest to highest. this one has 
        // -1 and then 1 which is descending order, highest to lowest.
      } else {
        return 1;
      }
    });

    console.table(oldest);

    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris

    /* the page lists a lot of boulevard names. we need to get the ones that have "de" in the name. we need to get the dom elements 
    out of the page. find a boulevard name and inspect element. you'll see that <div class = "mw-category mw-category-columns"> is 
    holding all the boulevard names. now we can use this for our querySelector

    const category = document.querySelector(".mw-category"); // this gets the class mw-category
    const links = category.querySelectorAll("a"); // this gets all a's which are the links inside the class mw-category
    you can write const category to include the class and links together like this: 
    const category = document.querySelectorAll("mw-category a"); this will give you a node list of all the links inside the 
    class mw-category  



    */
    // 7. sort Exercise
    // Sort the people alphabetically by last name

    // 8. Reduce Exercise
    // Sum up the instances of each of these
    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];

  </script>
</body>
</html>
